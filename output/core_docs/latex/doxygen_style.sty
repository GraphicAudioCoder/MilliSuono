% MilliSuono Custom Style Package
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{doxygen_style}

% Define beautiful colors
\RequirePackage{xcolor}
\definecolor{titleblue}{RGB}{0,102,204}
\definecolor{sectionblue}{RGB}{0,120,180}
\definecolor{codebackground}{RGB}{248,249,250}
\definecolor{codeborder}{RGB}{222,226,230}
\definecolor{keywordblue}{RGB}{0,92,197}
\definecolor{commentgreen}{RGB}{0,128,0}
\definecolor{stringred}{RGB}{163,21,21}

% Force oneside layout (no blank pages)
\let\cleardoublepage\clearpage

% Override hyperref colors (will be executed when hyperref is loaded)
\RequirePackage{etoolbox}
\AfterEndPreamble{%
  \hypersetup{
    colorlinks=true,
    linkcolor=titleblue,
    urlcolor=titleblue,
    citecolor=titleblue,
    filecolor=titleblue,
    pdfborder={0 0 0}
  }%
}

% Override page geometry
\RequirePackage{geometry}
\geometry{
  a4paper,
  left=2.8cm,
  right=2.3cm,
  top=2.8cm,
  bottom=2.8cm
}

% Make code blocks beautiful with listings package
\RequirePackage{listings}
\lstset{
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\color{keywordblue}\bfseries,
  commentstyle=\color{commentgreen}\itshape,
  stringstyle=\color{stringred},
  numbers=left,
  numberstyle=\tiny\color{gray},
  numbersep=10pt,
  backgroundcolor=\color{codebackground},
  frame=single,
  frameround=tttt,
  rulecolor=\color{codeborder},
  breaklines=true,
  breakatwhitespace=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
  tabsize=2,
  showstringspaces=false,
  captionpos=b,
  xleftmargin=15pt,
  xrightmargin=5pt,
  framexleftmargin=10pt
}

% Better spacing
\setlength{\parskip}{0.4em}

% Improve table appearance
\arrayrulecolor{gray!40}
\renewcommand{\arraystretch}{1.4}
